## Исправлены следующие замечания:

1. https://github.com/NewbyDevOps/fail2ban_ansible/blob/review_01/ansible.cfg#L4 если указать только 1 файл, то и прочитается только один файл, остальные переменные не прочитаются. вообще inventory указывается при запуске плейбука. у тебя может быть много инвентори для разных сред, например dev, staging, prod, может быть разбито по ЦОДам и тд. лучше убрать
2. не понял зачем это https://github.com/NewbyDevOps/fail2ban_ansible/blob/review_01/inventory/group_vars/custom.yml
3. https://github.com/NewbyDevOps/fail2ban_ansible/blob/review_01/roles/fail2ban/tasks/main.yml#L4-L5 буд-то бы нафиг не нужная таска
4. https://github.com/NewbyDevOps/fail2ban_ansible/blob/review_01/roles/fail2ban/tasks/install_for_redhat.yml#L7 вынеси в переменные только версию, а имя пакета оставь
5. в виде тренировки с jinja2 сделай чтоб если переменные вида enabled, если выставлены в false, чтобы секция даже не добавлялась в конфиге https://github.com/NewbyDevOps/fail2ban_ansible/blob/review_01/roles/fail2ban/defaults/main.yml#L9 https://github.com/NewbyDevOps/fail2ban_ansible/blob/review_01/roles/fail2ban/defaults/main.yml#L11
6. а зачем ты ссылаешься с одной переменной на другую? https://github.com/NewbyDevOps/fail2ban_ansible/blob/review_01/inventory/host_vars/ubuntu_timeweb.yml#L5 прочитай про приоритет переменных https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_variables.html#understanding-variable-precedence они переопределяются в соотвествии с приоритетом. например host_varsприоритетнее group_vars, group_vars приоритетнее чем дефолтные переменные роли и тд. тоесть если одна и та же переменная будетв двух местах, то применится та что выше приоритетом.
7. с host_vars разобрался, хорошо, но они используюся в самых крайних случаях, если групповыми переменными не обойтись https://github.com/NewbyDevOps/fail2ban_ansible/tree/review_01/inventory/host_vars . обычно ансибл роли катят сразу на большую пачку серверов, которые с одной и той же ОС, с одним и тем же пользаком и паролем. поэтому лучше вывести все в групповые переменные, и просто оставить возможность дописать туда новые хосты.