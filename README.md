## Исправлены следующие замечания:

1. залил сразу в ветку main, в которую код должен попадать через pull request из другой ветки и обязательным проведением ревью
2. сделай все параметры изменяемыми с помощью переменными. чтобы можно было не изменяя роль раскатывать на разные среды, с разными требованиями
3. https://github.com/NewbyDevOps/fail2ban_ansible/blob/main/ansible.cfg#L4 тут не правильно, ты ограничил inventory до всего одного файла с хостами. hosts.yaml по правильному может содержать лишь перечисленные хосты и максимум, переменные для непосредственно подключения к хосту. переменные для функционала роли нужно размещать в других файлах и директориях. кстати, прочитай о структуре inventory и сделай красиво)
4. ansible_sudo_pass и любые другие чувствительные данные должны быть зашифрованными. используй ansible-vault утилиту для шифрования переменных. тогда при запуске нужно  будет использовать ключи --vault-pass-file или --ask-vault-pass. 
5. чота when условие ускакало далеко от самого блока, в которому оно относится, сложновато читать https://github.com/NewbyDevOps/fail2ban_ansible/blob/main/roles/deploy_fail2ban/tasks/main.yml#L17
6. после изменения конфига ты рестартишь fail2ban, лучше по возможности релоадить приложения, чем рестартить. рестарт чего-либо в продакт среде делается только в случае, когда подругому никак.
7. разберись в том как можно подключать файлы с тасками, разбей на 2 файла, один для RedHat, другой для Debian, из main вызывай в зависимости от ОС, нужный файл.
8. с учетом что fail2ban читает только конфиг по этому расположению, то эта переменная буд-то бы накуй не нужна) https://github.com/NewbyDevOps/fail2ban_ansible/blob/main/roles/deploy_fail2ban/defaults/main.yml#L4
9. поддерживаю желание сделать дефолтные значения. 1 вариант. есть дефолтные значения для переменных. складываются в файл roles/deploy_fail2ban/defaults/main.yml. в названии переменной не надо указывать что она дефолтная ее можно будет в любой момент переопределить и получить другой результат. вариант 2 работает так: https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_filters.html#providing-default-values